<div class="table-box">
    <h1>All Drivers</h1>
    <table class="table" id="driver-table">
        <thead>
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Name</th>
            <th scope="col">Department</th>
            <th scope="col">Licence</th>
            <th scope="col">Created At</th>
            <th scope="col">Active</th>
            <th scope="col">Packages</th>
          </tr>
        </thead>
        <tbody>
            @for(driver of allDrivers;track $index) {
                <tr>
                    <td>{{ driver.driver_id }}</td>
                    <td>{{ driver.driver_name | upperCase }}</td>
                    <td>{{ driver.driver_department }}</td>
                    <td>{{ driver.driver_licence }}</td>
                    <td>{{ driver.driver_createdAt }}</td>
                    <td>{{ driver.driver_isActive }}</td>
                    <td>
                      <i class="fa-solid fa-boxes-packing fa-lg view-package" (click)="viewPackages($index)"></i>
                  </td>
                </tr>
            }
        </tbody>
      </table>

      @if (viewingPackages) {
        <!-- For packages -->
        @if (driverPackages.length > 0) {
          <div class="table-box">
            <h1>Packages</h1>
            <table class="table" id="package-table">
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Title</th>
                    <th scope="col">Weight</th>
                    <th scope="col">Destination</th>
                    <th scope="col">Description</th>
                    <th scope="col">Created At</th>
                    <th scope="col">Allocated</th>
                    <th scope="col">Driver ID</th>
                  </tr>
                </thead>
                <tbody>
                    @for(package of driverPackages;track $index) {
                        <tr>
                            <td>{{ package.package_id }}</td>
                            <td>{{ package.package_title }}</td>
                            <td>{{ package.package_weight | grams }}</td>
                            <td>{{ package.package_destination }}</td>
                            <td>{{ package.description }}</td>
                            <td>{{ package.createdAt }}</td>
                            <td>{{ package.isAllocated }}</td>
                            <td>{{ package.driver_id }}</td>
                        </tr>
                    }
                </tbody>
              </table>
        </div>
        } @else {
          <h3>No Packages Found</h3>
        }
      }
</div>